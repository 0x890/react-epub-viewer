(this["webpackJsonpreact-epub-viewer"]=this["webpackJsonpreact-epub-viewer"]||[]).push([[0],{110:function(e,n,t){},111:function(e,n,t){"use strict";t.r(n);var i,r,o,c,a,l,s,u,d,b,f,g=t(34),h=t.n(g),p=t(9),j=t(2),x=t.n(j),O=t(11),v=t(29),m=t.n(v),w=t(36),k=t(6),y=t(54),C=t(37),_=t(3),E=t(4),S=E.b.div(i||(i=Object(_.a)(["\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tmargin: 0 auto;\n\t\n\t& > div {\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n"]))),R=t(0),H=function(e,n){var t=e.url,i=e.epubFileOptions,r=e.epubOptions,o=e.style,c=e.location,a=e.bookChanged,l=e.rendtionChanged,s=e.pageChanged,u=e.tocChanged,d=e.selectionChanged,b=e.loadingView,f=Object(j.useState)(!1),g=Object(p.a)(f,2),h=g[0],x=g[1],O=Object(j.useState)(null),v=Object(p.a)(O,2),m=v[0],w=v[1],y=Object(j.useState)(null),_=Object(p.a)(y,2),E=_[0],H=_[1],z=Object(j.useState)([]),B=Object(p.a)(z,2),V=B[0],T=B[1],I=Object(j.useRef)(""),L=function(e){var t=n.current;if(t&&e){var i=e.renderTo(t,Object(k.a)({width:"100%",height:"100%"},r));H(i),l&&l(i),"string"===typeof c?i.display(c):V.length>0&&V[0].href?i.display(V[0].href):i.display()}},M=Object(j.useCallback)((function(e){E&&("PREV"===e?E.prev():E.next())}),[E]),N=Object(j.useCallback)((function(e){var n=e.key;n&&"ArrowLeft"===n&&M("PREV"),n&&"ArrowRight"===n&&M("NEXT")}),[M]),W=Object(j.useCallback)((function(e){var n=e&&e.start,t=e&&e.end,i=e&&e.start.slice(8).split("!")[0];if(m){var r=m.spine.get(n),o=m.navigation.get(r.href),c=o&&o.label.trim(),a=m.locations,l=a.locationFromCfi(n),u=a.total;s&&s({chapterName:c,currentPage:l,totalPage:u,startCfi:n,endCfi:t,base:i}),I.current=n}}),[m,s]),P=Object(j.useCallback)((function(e,n,t){E&&(E.annotations.remove(e,"highlight"),E.annotations.highlight(e,{},n,"epub-highlight",{fill:t||"#fdf183"}))}),[E]),F=Object(j.useCallback)((function(){n.current&&(M&&(n.current.prevPage=function(){return M("PREV")},n.current.nextPage=function(){return M("NEXT")}),n.current.getCurrentCfi=function(){return I.current},P&&(n.current.onHighlight=P),E&&(n.current.offHighlight=function(e){return E.annotations.remove(e,"highlight")},n.current.setLocation=function(e){return E.display(e)}))}),[n,E,M,P]);return Object(j.useEffect)((function(){if(!n)throw new Error("[React-Epub-Viewer] Put a ref argument that has a ViewerRef type.")}),[n]),Object(j.useEffect)((function(){t&&function(){m&&m.destroy();var e=new C.a(t,i);w(e),a&&a(e),e.loaded.navigation.then((function(n){var t=n.toc.map((function(e){return{label:e.label,href:e.href}}));x(!0),T(t),u&&u(t),L(e)})),e.ready.then((function(){var n=localStorage.getItem(e.key()+"-locations");return n?e.locations.load(n):e.locations.generate(1024)})).then((function(){localStorage.setItem(e.key()+"-locations",e.locations.save())}))}()}),[t]),Object(j.useEffect)((function(){if(E)return F(),document.addEventListener("keyup",N,!1),E.on("keyup",N),E.on("locationChanged",W),d&&E.on("selected",d),function(){document.removeEventListener("keyup",N,!1),E.off("keyup",N),E.off("locationChanged",W),d&&E.off("selected",d)}}),[E,F,N]),Object(j.useEffect)((function(){c&&E&&E.display(c)}),[c,E]),Object(R.jsxs)(R.Fragment,{children:[!h&&b,Object(R.jsx)(S,{ref:n,style:o})]})},z=x.a.forwardRef(H),B=Object(E.c)(r||(r=Object(_.a)(["\n\tfrom { transform: rotate(0deg); }\n\tto { transform: rotate(360deg); }\n"]))),V=E.b.div(o||(o=Object(_.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),T=E.b.div(c||(c=Object(_.a)(["\n\tposition: relative;\n\twidth: 100%;\n\theight: 30px;\n\tmargin: 30px 0;\n\ttext-align: center;\n"]))),I=E.b.div(a||(a=Object(_.a)(["\n\tdisplay: inline-block;\n\twidth: 30px;\n\theight: 30px;\n\tborder: 3px solid #ebf1ff;\n\tborder-radius: 50%;\n\tborder-top-color: #3972ff;\n\tanimation: "," 1s ease-in-out infinite;\n"])),B),L=function(){return Object(R.jsx)(V,{children:Object(R.jsx)(T,{children:Object(R.jsx)(I,{})})})},M=t(26),N=t(61),W=function(e){var n=e.getFullYear(),t=e.getMonth()+1,i=e.getDate();return"".concat(n,"-").concat(t,"-").concat(i)},P=function(e,n){return(new C.b).compare(e,n)},F=function(e){var n=e.slice(8,-1).split(","),t=Object(p.a)(n,3),i=t[0],r=t[1],o=t[2];return i&&r&&o?{startCfi:"epubcfi(".concat(i+r,")"),endCfi:"epubcfi(".concat(i+o,")")}:null},D=function(e){if(e){var n=e.slice(8,-1).split(","),t=Object(p.a)(n,3),i=t[0],r=t[1],o=t[2];return i&&r&&o?"epubcfi(".concat(i,")"):null}},A={"::selection":{"background-color":"#d4e9ff"},img:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},X=function(e,n){var t=e.url,i=e.viewerLayout,r=e.viewerStyle,o=e.viewerOption,c=e.onBookInfoChange,a=e.onPageChange,l=e.onTocChange,s=e.onSelection,u=e.loadingView,d=Object(j.useState)(null),b=Object(p.a)(d,2),f=b[0],g=b[1],h=Object(j.useState)(null),x=Object(p.a)(h,2),O=x[0],v=x[1],C=Object(j.useState)({}),_=Object(p.a)(C,2),E=_[0],S=_[1],H=Object(j.useState)({fontFamily:"Origin",fontSize:18,lineHeight:1.4,marginHorizontal:15,marginVertical:5}),B=Object(p.a)(H,2),V=B[0],T=B[1],I=Object(j.useState)({flow:"paginated",resizeOnOrientationChange:!0,spread:"auto"}),M=Object(p.a)(I,2),N=M[0],P=M[1],F=Object(j.useRef)({cfiRange:"",contents:null}),D=Object(j.useMemo)((function(){return Object(y.a)(250,(function(){if(O){var e=i||{MIN_VIEWER_WIDTH:600,MIN_VIEWER_HEIGHT:300,VIEWER_HEADER_HEIGHT:0,VIEWER_FOOTER_HEIGHT:0,VIEWER_SIDEMENU_WIDTH:0},n=window,t=n.innerWidth,r=n.innerHeight,o=e.VIEWER_HEADER_HEIGHT+e.VIEWER_FOOTER_HEIGHT,c=t-~~((t-e.MIN_VIEWER_WIDTH)/100*V.marginHorizontal),a="scrolled-doc"===N.flow?r-o:r-o-~~((r-o-e.MIN_VIEWER_HEIGHT)/100*V.marginVertical),l="scrolled-doc"===N.flow?"":"".concat(~~((r-o-e.MIN_VIEWER_HEIGHT)/100*V.marginVertical)/2,"px");S((function(e){return Object(k.a)(Object(k.a)({},e),{},{width:c,height:a,marginTop:l})}));try{O.resize(c,a)}catch(s){}}}))}),[O,i,V.marginHorizontal,V.marginVertical,N.flow]),X=Object(j.useCallback)(Object(w.a)(m.a.mark((function e(){var t,i,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.current){e.next=2;break}return e.abrupt("return");case 2:if(t=n.current.querySelector("iframe")){e.next=5;break}return e.abrupt("return");case 5:if(i=t.contentWindow){e.next=8;break}return e.abrupt("return");case 8:if(r=i.getSelection()){e.next=11;break}return e.abrupt("return");case 11:if(""!==r.toString()){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,new Promise((function(e){return setTimeout((function(){return e(F.current.cfiRange)}),350)}));case 16:if(o=e.sent){e.next=19;break}return e.abrupt("return");case 19:if(c=F.current.contents){e.next=22;break}return e.abrupt("return");case 22:s&&s(o,c);case 23:case"end":return e.stop()}}),e)}))),[n,s]);return Object(j.useEffect)((function(){if(!n)throw new Error("[React-Epub-Viewer] Put a ref argument that has a ViewerRef type.")}),[n]),Object(j.useEffect)((function(){f&&Promise.all([f.loaded.metadata,f.opened]).then((function(e){var n=Object(p.a)(e,2),t=n[0],i=n[1],r={coverURL:i.archive.urlCache[i.cover],title:t.title,description:t.description,published_date:W(new Date(t.pubdate)),modified_date:W(new Date(t.modified_date)),author:t.creator,publisher:t.publisher,language:t.language};c&&c(r)})).catch((function(e){throw"".concat(e.stack," \n\n Message : Epub parsing failed.")}))}),[f]),Object(j.useEffect)((function(){r&&T(r),o&&P(o)}),[r,o]),Object(j.useEffect)((function(){if(O){D();var e={body:{"padding-top":"0px !important","padding-bottom":"0px !important"},p:{"font-size":"".concat(V.fontSize,"px !important"),"line-height":"".concat(V.lineHeight," !important")}};O.flow(N.flow),O.spread(N.spread),"Origin"!==V.fontFamily&&Object.assign(e.body,{"font-family":"".concat(V.fontFamily," !important")}),"scrolled-doc"===N.flow?Object.assign(e.body,{margin:"auto !important"}):(N.spread,Object.assign(e.body,{})),O.themes.register("main",A),O.themes.register("default",e),O.themes.select("main")}}),[O,V.fontFamily,V.fontSize,V.lineHeight,N,D]),Object(j.useEffect)((function(){return window.addEventListener("resize",D),function(){return window.removeEventListener("resize",D)}}),[D]),Object(j.useEffect)((function(){if(O)return O.on("mouseup",X),function(){return O.off("mouseup",X)}}),[O,X]),Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(z,{url:t,style:E,bookChanged:function(e){return g(e)},rendtionChanged:function(e){return v(e)},tocChanged:l,pageChanged:a,selectionChanged:function(e,n){F.current={cfiRange:e,contents:n}},loadingView:u||Object(R.jsx)(L,{}),ref:n})})},G=x.a.forwardRef(X),Y={white:"#ffffff",black:"#000000",gray0:"#fafafa",gray1:"#e7e7e7",gray2:"#c3c3c3",gray3:"#9e9e9e",gray4:"#868686",gray5:"#656565",gray6:"#505050",gray7:"#3c3c3c",gray8:"#282828",red0:"#ffe8e8",red1:"#ffd0d1",red2:"#ff8a8b",red3:"#ff4445",red4:"#ff1517",red5:"#bf1011",red6:"#990d0e",red7:"#73090a",red8:"#4d0607",orange0:"#fff0ec",orange1:"#ffe2d9",orange2:"#ffb6a0",orange3:"#ff8966",orange4:"#ff6c40",orange5:"#bf5130",orange6:"#994126",orange7:"#73311d",orange8:"#4d2013",yellow0:"#fffce6",yellow1:"#fffacc",yellow2:"#fff280",yellow3:"#feea33",yellow4:"#fee500",yellow5:"#bfac00",yellow6:"#988900",yellow7:"#726700",yellow8:"#4c4500",green0:"#e6f7e6",green1:"#cdefcc",green2:"#83d880",green3:"#39c133",green4:"#07b100",green5:"#058500",green6:"#046a00",green7:"#035000",green8:"#023500",blue0:"#ebf1ff",blue1:"#d7e3ff ",blue2:"#9cb9ff ",blue3:"#618eff ",blue4:"#3972ff ",blue5:"#2b56bf ",blue6:"#224499 ",blue7:"#1a3373 ",blue8:"#11224d ",purple0:"#f2ebff",purple1:"#d7e3ff",purple2:"#be9cff",purple3:"#9761ff",purple4:"#7d39ff",purple5:"#5e2bbf",purple6:"#4b2299",purple7:"#381a73",purple8:"#26114d"},q=function(e){return"\n\t".concat(e,"\n")},U={header:q(5),menu:q(10),modal:q(100),snackbar:q(400),tooltip:q(500)},K=E.b.div(l||(l=Object(_.a)(["\n  position: sticky;\n  width: 100%;\n  height: auto;\n  left: 0;\n  top: 0;\n  background-color: ",";\n  z-index: ",";\n"])),Y.white,U.header),J=E.b.div(s||(s=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 54px;\n  background-color: ",";\n  z-index: ",";\n"])),Y.white,U.header),Q=E.b.div(u||(u=Object(_.a)(["\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 2px solid ",";\n\n  & > div {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n  }\n  & > div:last-child {\n    margin-right: 8px;\n  }\n"])),Y.gray1),Z=J,$=function(){return"\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n"},ee=function(){return"\n\tcubic-bezier(0.25, 0.1, 0.25, 1);\n"},ne="0px 8px 12px rgba(0, 0, 0, 0.2)",te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return"\n\t&::-webkit-scrollbar {\n\t\twidth: ".concat(e,"px;\n\t\tbackground: transparent;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground: #ddd;\n\t\tborder-radius: 10px;\n\t}\n\t&::-webkit-scrollbar-thumb:hover {\n\t\tbackground: #ccc;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground: transparent;\n\t}\n")},ie=E.b.a(d||(d=Object(_.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\toutline: none;\n\tmargin-left: 16px;\n\tbackground-color: rgba(0,0,0,0);\n\ttransition: .3s ",";\n\tborder-radius: 8px;\n\tpadding: 4px 8px;\n\tcursor: pointer;\n\n\t&:focus, &:hover {\n\t\tbackground-color: ",";\n\t}\n"])),ee,Y.blue1),re=E.b.img(b||(b=Object(_.a)(["\n\theight: 32px;\n"]))),oe=function(){return Object(R.jsx)(ie,{href:"https://github.com/altmshfkgudtjr/react-epub-viewer",target:"__blank__",children:Object(R.jsx)(re,{src:"images/reactEpubIcon.png",alt:"Logo"})})},ce=E.b.button(f||(f=Object(_.a)(["\n  height: 100%;\n  padding: 0 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: .1s ",";\n  outline: none;\n\n  &:focus, &:hover {\n    color: ",";\n  }\n\n  &:first-child {\n    margin-left: 8px;\n  }\n"])),ee,Y.blue3),ae=function(e){var n=e.message,t=e.onClick;return Object(R.jsx)(ce,{onClick:function(){return t()},children:n})};var le=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".prev_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"prev_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"prev_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h44v44H0z",opacity:.3}),Object(R.jsx)("path",{className:"prev_svg__cls-3",d:"M12 22L32 2M12 22l20 20"})]})})]}))};var se=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".next_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"next_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"next_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h44v44H0z",opacity:.3}),Object(R.jsx)("path",{className:"next_svg__cls-3",d:"M32 22L12 2M32 22L12 42"})]})})]}))};var ue=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".bookClose_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"bookClose_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"bookClose_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h48v48H0z",opacity:.2}),Object(R.jsx)("path",{className:"bookClose_svg__cls-3",d:"M37.12 3H10.88a3 3 0 00-.43 0A1.71 1.71 0 009.1 4.11a1.87 1.87 0 00-.1.59v29.18c0 1 0 .94 1.88 1.88l18 9a1.8 1.8 0 002.6-1.2 3 3 0 000-.31v-7.58h5.62A1.88 1.88 0 0039 33.8V4.87A1.88 1.88 0 0037.12 3z"}),Object(R.jsx)("path",{className:"bookClose_svg__cls-3",d:"M31.5 35.67V14.84a2 2 0 00-1.1-1.78L10.45 3"})]})})]}))};var de=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".bookOpen_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"bookOpen_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"bookOpen_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h48v48H0z",opacity:.2}),Object(R.jsx)("path",{className:"bookOpen_svg__cls-3",d:"M4 6.5a27.24 27.24 0 0120 1v34a27.24 27.24 0 00-20-1zM24 7.5a27.24 27.24 0 0120-1v34a27.24 27.24 0 00-20 1"})]})})]}))};var be=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".close_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"close_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"close_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h48v48H0z",opacity:.2}),Object(R.jsx)("path",{className:"close_svg__cls-3",d:"M4 4l40 40M4 44L44 4"})]})})]}))};var fe=function(e){return Object(R.jsx)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),{},{children:Object(R.jsx)("g",{"data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{"data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h48v48H0z",opacity:.2}),Object(R.jsx)("path",{d:"M8.33 15.82l14.32 20.46a1.63 1.63 0 002.7 0l14.32-20.46A1.78 1.78 0 0038.32 13H9.68a1.78 1.78 0 00-1.35 2.82z",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})]})})}))};var ge=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".scrollHorizontal_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"scrollHorizontal_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"scrollHorizontal_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h48v48H0z",opacity:.2}),Object(R.jsx)("circle",{className:"scrollHorizontal_svg__cls-3",cx:24,cy:24,r:5}),Object(R.jsx)("path",{className:"scrollHorizontal_svg__cls-3",d:"M3 24l12-12M3 24l12 12M45 24L33 12M45 24L33 36"})]})})]}))};var he=function(e){return Object(R.jsxs)("svg",Object(k.a)(Object(k.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),{},{children:[Object(R.jsx)("defs",{children:Object(R.jsx)("style",{children:".scrollVertical_svg__cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}"})}),Object(R.jsx)("g",{id:"scrollVertical_svg__\\uB808\\uC774\\uC5B4_2","data-name":"\\uB808\\uC774\\uC5B4 2",children:Object(R.jsxs)("g",{id:"scrollVertical_svg__\\uB808\\uC774\\uC5B4_1-2","data-name":"\\uB808\\uC774\\uC5B4 1",children:[Object(R.jsx)("path",{fill:"none",d:"M0 0h48v48H0z",opacity:.2}),Object(R.jsx)("circle",{className:"scrollVertical_svg__cls-3",cx:24,cy:24,r:5}),Object(R.jsx)("path",{className:"scrollVertical_svg__cls-3",d:"M24 3l12 12M24 3L12 15M24 45l12-12M24 45L12 33"})]})})]}))};var pe,je,xe,Oe,ve,me,we,ke,ye,Ce,_e,Ee,Se,Re,He,ze,Be,Ve,Te,Ie,Le,Me,Ne,We,Pe,Fe,De,Ae,Xe,Ge,Ye,qe,Ue,Ke,Je,Qe,Ze,$e,en,nn,tn,rn,on,cn,an,ln,sn,un,dn,bn,fn,gn,hn,pn,jn,xn,On,vn,mn,wn,kn,yn,Cn,_n,En,Sn,Rn,Hn,zn=E.b.button(pe||(pe=Object(_.a)(["\n  position: relative;\n  height: 100%;\n  padding: 0 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 0;\n  transition: .3s ",";\n  opacity: ",";\n  cursor: ",";\n  outline: none;\n\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    z-index: -1;\n    border-radius: 30px;\n    width: ",";\n    height: ",";\n    opacity: ",";\n    transition: .1s ",";\n    background-color: ",";\n  }\n\n  &:focus, &:hover {\n    ",";\n    \n  }\n"])),ee,(function(e){return e.active?"1":".3"}),(function(e){return e.active?"pointer":"default"}),(function(e){return e.isSelected?"32px":"8px"}),(function(e){return e.isSelected?"32px":"8px"}),(function(e){var n=e.active,t=e.isSelected;return n&&t?".7":"0"}),ee,Y.blue1,(function(e){return e.active?Object(E.a)(je||(je=Object(_.a)(["\n        &:before {\n          width: 32px;\n          height: 32px;\n          opacity: 1;\n        }\n      "]))):""})),Bn=E.b.div(xe||(xe=Object(_.a)(["\n  width: 16px;\n  height: 16px;\n\n  & > div, & > svg {\n    width: 16px;\n    height: 16px;\n  }\n"]))),Vn=function(e){var n=e.type,t=e.alt,i=e.active,r=e.isSelected,o=e.onClick,c=null;switch(n){case"ScrollVertical":c=he;break;case"ScrollHorizontal":c=ge;break;case"BookOpen":c=de;break;case"BookClose":c=ue}return Object(R.jsx)(zn,{onClick:function(){i&&o()},isSelected:r,active:i,title:t,children:Object(R.jsx)(Bn,{children:Object(R.jsx)(c,{})})})},Tn=E.b.div(Oe||(Oe=Object(_.a)(["\n  width: 1px;\n  height: ",";\n  margin: 0 8px;\n  background-color: ",";\n"])),(function(e){return e.height+"px"}),Y.gray2),In=function(e){var n=e.height,t=void 0===n?16:n;return Object(R.jsx)(Tn,{height:t})},Ln=function(e){e.title;var n=e.bookOption,t=e.onNavToggle,i=e.onOptionToggle,r=e.onLearningToggle,o=e.onBookOptionChange,c=Object(j.useState)(!0),a=Object(p.a)(c,2),l=a[0],s=a[1],u=Object(j.useState)({active:!0,spread:!0}),d=Object(p.a)(u,2),b=d[0],f=d[1],g=function(e){"Horizontal"===e?(s(!0),f(Object(k.a)(Object(k.a)({},b),{},{active:!0})),o(Object(k.a)(Object(k.a)({},n),{},{flow:"paginated"}))):(s(!1),f(Object(k.a)(Object(k.a)({},b),{},{active:!1})),o(Object(k.a)(Object(k.a)({},n),{},{flow:"scrolled-doc"})))},h=function(e){e?(f(Object(k.a)(Object(k.a)({},b),{},{spread:!0})),o(Object(k.a)(Object(k.a)({},n),{},{spread:"auto"}))):(f(Object(k.a)(Object(k.a)({},b),{},{spread:!1})),o(Object(k.a)(Object(k.a)({},n),{},{spread:"none"})))};return Object(R.jsx)(K,{children:Object(R.jsx)(Z,{children:Object(R.jsxs)(Q,{children:[Object(R.jsxs)("div",{children:[Object(R.jsx)(oe,{}),Object(R.jsx)(ae,{message:"Contents",onClick:t}),Object(R.jsx)(ae,{message:"Setting",onClick:i}),Object(R.jsx)(ae,{message:"Highlights",onClick:r})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)(Vn,{type:"ScrollHorizontal",alt:"Horizontal View",active:!0,isSelected:l,onClick:function(){return g("Horizontal")}}),Object(R.jsx)(Vn,{type:"ScrollVertical",alt:"Vertical View",active:!0,isSelected:!l,onClick:function(){return g("Vertical")}}),Object(R.jsx)(In,{}),Object(R.jsx)(Vn,{type:"BookOpen",alt:"Two Page View",active:b.active,isSelected:b.spread,onClick:function(){return h(!0)}}),Object(R.jsx)(Vn,{type:"BookClose",alt:"One Page View",active:b.active,isSelected:!b.spread,onClick:function(){return h(!1)}})]})]})})})},Mn=E.b.div(ve||(ve=Object(_.a)(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n"])),Y.white),Nn=Mn,Wn=E.b.div(me||(me=Object(_.a)(["\n  height: 100%;\n  flex-basis: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & > span {\n    color: ",";\n  }\n"])),Y.gray4),Pn=function(e){var n=e.text;return Object(R.jsx)(Wn,{children:Object(R.jsx)("span",{children:n})})},Fn=E.b.button(we||(we=Object(_.a)(["\n  min-width: 60px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  outline: none;\n\n  &:focus, &:hover {\n    filter: invert(40%) sepia(85%) saturate(1256%) hue-rotate(210deg) brightness(113%) contrast(101%);\n  }\n"]))),Dn=E.b.div(ke||(ke=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: .1s ",";\n\n  & > svg {\n    width: 18px;\n    height: 18px;\n  }\n"])),ee),An=function(e){var n=e.type,t=e.onClick,i="PREV"===n?le:se,r="PREV"===n?"\uc774\uc804 \ud398\uc774\uc9c0":"\ub2e4\uc74c \ud398\uc774\uc9c0";return Object(R.jsx)(Fn,{onClick:t,title:r,children:Object(R.jsx)(Dn,{children:Object(R.jsx)(i,{})})})},Xn=function(e){var n=e.title,t=e.nowPage,i=e.totalPage,r=e.onPageMove;return Object(R.jsxs)(Nn,{children:[Object(R.jsx)(An,{type:"PREV",onClick:function(){return r("PREV")}}),Object(R.jsx)(Pn,{text:n}),Object(R.jsx)(Pn,{text:"".concat(t," / ").concat(i)}),Object(R.jsx)(An,{type:"NEXT",onClick:function(){return r("NEXT")}})]})},Gn=E.b.button(ye||(ye=Object(_.a)(["\n  position: relative;\n  height: 100%;\n  padding: 0 24px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: .1s ",";\n  outline: none;\n\n  &:focus, &:hover {\n    filter: invert(40%) sepia(85%) saturate(1256%) hue-rotate(210deg) brightness(113%) contrast(101%);\n  }\n"])),ee),Yn=Object(E.b)(be)(Ce||(Ce=Object(_.a)(["\n  width: 18px;\n  height: 18px;\n"]))),qn=function(e){var n=e.onClick;return Object(R.jsx)(Gn,{onClick:n,children:Object(R.jsx)(Yn,{})})},Un=function(e,n){var t=e.title,i=e.show,r=e.onClose,o=e.children;return Object(R.jsxs)(Kn,{show:i,ref:n,children:[Object(R.jsxs)(Jn,{children:[Object(R.jsx)("span",{children:t}),Object(R.jsx)(qn,{onClick:r})]}),o]})},Kn=E.b.div(_e||(_e=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  width: 340px;\n  height: 100vh;\n  top: 0;\n  right: 0;\n  z-index: ",";\n  box-shadow: -4px 0 8px 0 rgba(0,0,0,.16);\n  background-color: ",";\n  border-radius: 16px 0 0 16px;\n  transform: ",";\n  transition: .3s ",";\n  overflow-y: auto;\n  ",";\n"])),U.menu,Y.white,(function(e){return e.show?"translateX(0px) scale(1)":"translateX(420px) scale(.8)"}),ee,te()),Jn=E.b.div(Ee||(Ee=Object(_.a)(["\n  width: 100%;\n  height: 64px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 30px;\n\n  & > span {\n    padding-left: 24px;\n    font-size: 21px;\n    font-weight: 600;\n  }\n"]))),Qn=x.a.forwardRef(Un),Zn=E.b.div(Se||(Se=Object(_.a)(["\n  display: flex;\n  padding: 24px;\n"]))),$n=E.b.img(Re||(Re=Object(_.a)(["\n  margin-right: 12px;\n  width: 44%;\n  min-width: 120px;\n  border-radius: 4px;\n  background: #eee;\n"]))),et=E.b.div(He||(He=Object(_.a)(["\n  flex-grow: 1;\n"]))),nt=E.b.div(ze||(ze=Object(_.a)(["\n  font-weight: 500;\n  margin-bottom: 4px;\n"]))),tt=E.b.div(Be||(Be=Object(_.a)(["\n  font-size: 14px;\n  margin-bottom: 4px;\n"]))),it=function(e){var n=e.src,t=void 0===n?"":n,i=e.title,r=e.publisher,o=e.author;return Object(R.jsxs)(Zn,{children:[Object(R.jsx)($n,{src:t,alt:i}),Object(R.jsxs)(et,{children:[Object(R.jsx)(nt,{children:i}),Object(R.jsx)(tt,{children:r}),Object(R.jsx)(tt,{children:o})]})]})},rt=E.b.button(Ve||(Ve=Object(_.a)(["\n  width: 100%;\n  height: 48px;\n  box-sizing: border-box;\n  padding: 12px 24px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  background-color: ",";\n  outline: none;\n  \n  & > span {\n    transition: .2s ",";\n    font-size: 14px;\n  }\n\n  &:focus, &:hover {\n    & > span {\n      color: ",";\n      margin-left: 12px;\n    }\n  }\n"])),Y.gray0,ee,Y.blue3),ot=function(e){var n=e.message,t=e.onClick;return Object(R.jsx)(rt,{onClick:t,children:Object(R.jsx)("span",{children:n})})},ct=function(e,n){var t=e.control,i=e.onToggle,r=e.onLocation,o=Object(O.c)((function(e){return e.book.book})),c=Object(O.c)((function(e){return e.book.toc})),a=c.map((function(e,n){return Object(R.jsx)(ot,{message:e.label,onClick:function(){return n=e.href,r(n),void i();var n}},n)}));return Object(R.jsx)(R.Fragment,{children:t.display&&Object(R.jsxs)(Qn,{title:"Contents",show:t.open,onClose:i,ref:n,children:[Object(R.jsx)(it,{src:o.coverURL,title:o.title,publisher:o.publisher,author:o.author}),a]})})},at=x.a.forwardRef(ct),lt=E.b.div(Te||(Te=Object(_.a)(["\n  box-sizing: border-box;\n  padding: 24px;\n"]))),st=E.b.div(Ie||(Ie=Object(_.a)(["\n  margin-bottom: 24px;\n"]))),ut=E.b.div(Le||(Le=Object(_.a)(["\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 16px;\n"]))),dt=E.b.button(Me||(Me=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  width: 100%;\n  height: 40px;\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-sizing: border-box;\n  padding: 0px 16px;\n  cursor: pointer;\n  z-index: 4;\n  transition: .1s ",";\n  text-align: left;\n  outline: none;\n\n  &:hover, &:focus {\n    border: 2px solid ",";\n\n    & > div {\n      opacity: 1;\n      filter: invert(40%) sepia(85%) saturate(1256%) hue-rotate(210deg) brightness(113%) contrast(101%);\n    }\n  }\n"])),Y.white,(function(e){var n=e.isDropdown;return"2px solid ".concat(n?Y.blue3:Y.gray1)}),(function(e){return e.isDropdown?"20px 20px 0 0":"20px"}),ee,Y.blue3),bt=E.b.span(Ne||(Ne=Object(_.a)(["\n  flex-grow: 1;\n  margin-right: 16px;\n  font-size: 14px;\n"]))),ft=E.b.div(We||(We=Object(_.a)(["\n  display: flex;\n  width: 12px;\n  height: 12px;\n  opacity: .3;\n  \n  & > svg {\n    transform-origin: center;\n    transform: ",";\n  }\n"])),(function(e){return e.isDropdown?"rotate(180deg)":"rotate(0deg)"})),gt=function(e){var n=e.value,t=e.isDropdown,i=e.onClick;return Object(R.jsxs)(dt,{onClick:i,isDropdown:t,title:"Select font",children:[Object(R.jsx)(bt,{children:n}),Object(R.jsx)(ft,{isDropdown:t,children:Object(R.jsx)(fe,{})})]})},ht=E.b.div(Pe||(Pe=Object(_.a)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  max-height: 200px;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 0 0 16px 0;\n  background-color: ",";\n  border: 2px solid ",";\n  z-index: 3;\n  border-radius: ",";\n  transition: .4s ",";\n  opacity: ",";\n  transform-origin: top;\n  transform: ",";\n  ","\n  ",";\n"])),Y.white,Y.blue3,(function(e){return e.show?"0 0 20px 20px":"20px"}),ee,(function(e){return e.show?"1":"0"}),(function(e){return e.show?"translateY(-2px) scaleY(1);":"translateY(-40px) scaleY(0);"}),te(6),(function(e){return e.show?"":$})),pt=function(e){var n=e.show,t=e.children;return Object(R.jsx)(ht,{show:n,children:t})},jt=E.b.button(Fe||(Fe=Object(_.a)(["\n  width: 100%;\n  height: 40px;\n  box-sizing: border-box;\n  padding: 0 16px;\n  transition: .1s ",";\n  font-size: 14px;\n  line-height: 40px;\n  cursor: pointer;\n  text-align: left;\n  outline: none;\n  \n  &:focus, &:hover {\n    background-color: rgba(0,0,0,.05);\n  }\n"])),ee),xt=function(e){var n=e.value,t=e.onClick,i="Origin"===n?"Original":n;return Object(R.jsx)(jt,{onClick:t,children:i})},Ot=E.b.div(De||(De=Object(_.a)(["\n  position: relative;\n"]))),vt=function(e){var n=e.title,t=e.defaultValue,i=e.valueList,r=e.onSelect,o=Object(j.useRef)(null),c=Object(j.useState)(!1),a=Object(p.a)(c,2),l=a[0],s=a[1],u="Origin"===t?"Original":t,d=Object(j.useCallback)((function(){return s(!l)}),[l]),b=Object(j.useCallback)((function(e){o&&o.current&&(Object(M.a)(e.path).includes(o.current)||d())}),[o,d]),f=i.map((function(e){return Object(R.jsx)(xt,{value:e,onClick:function(){r(e),d()}},e)}));return Object(j.useEffect)((function(){return l?document.addEventListener("click",b):document.removeEventListener("click",b),function(){document.removeEventListener("click",b)}}),[l,b]),Object(R.jsxs)(st,{children:[Object(R.jsx)(ut,{children:n}),Object(R.jsxs)(Ot,{ref:o,children:[Object(R.jsx)(gt,{value:u,isDropdown:l,onClick:d}),Object(R.jsx)(pt,{show:l,children:f})]})]})},mt=E.b.span(Ae||(Ae=Object(_.a)(["\n  display: inline-block;\n  font-size: 14px;\n  color: ",";\n  margin-right: 8px;\n  width: 40px;\n  text-align: right;\n  line-height: 20px;\n"])),(function(e){return e.active?Y.blue3:Y.gray4})),wt=E.b.div(Xe||(Xe=Object(_.a)(["\n  flex-grow: 1;\n  display: flex;\n  position: relative;\n  width: auto;\n"]))),kt=E.b.div(Ge||(Ge=Object(_.a)(["\n  position: absolute;\n  width: 100%;\n  height: 6px;\n  background-color: #eee;\n  border-radius: 6px;\n  z-index: 0;\n"]))),yt=E.b.div(Ye||(Ye=Object(_.a)(["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  width: ",";\n  height: 6px;\n  border-radius: 6px 0 0 6px;\n  background-color: ",";\n\tz-index: 1;\n"])),(function(e){return e.percentage+"%"}),(function(e){return e.active?Y.blue4:Y.gray2})),Ct=E.b.input(qe||(qe=Object(_.a)(["\n  appearance: none;\n  width: 100%;\n  height: 6px;\n  background-color: transparent;\n  border-radius: 6px;\n  margin: 0;\n  z-index: 2;\n  outline: none;\n  \n  &::-webkit-slider-thumb {\n    appearance: none;\n    width: 18px;\n    height: 18px;\n    border-radius: 18px;\n    box-shadow: ",";\n    background-color: white;\n    transition: .2s ",";\n    transition-property: box-shadow, background-color;\n    border: ",";\n    cursor: ",";;\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      box-shadow: none;\n      background-color: ",";\n    }\n  }\n\n  &:focus::-webkit-slider-thumb {\n    box-shadow: none;\n    background-color: ",";\n  }\n"])),ne,ee,(function(e){return e.active?"2px solid ".concat(Y.blue3):"2px solid ".concat(Y.gray4)}),(function(e){return e.active?"pointer":""}),(function(e){return e.active?Y.blue1:""}),(function(e){return e.active?Y.blue3:""}),Y.blue3),_t=E.b.span(Ue||(Ue=Object(_.a)(["\n  font-size: 12px;\n  font-weight: 500;\n  color: ",";\n  margin: 0 8px;\n  line-height: 20px;\n"])),Y.gray4),Et=function(e){var n=e.active,t=e.minValue,i=e.maxValue,r=e.defaultValue,o=e.step,c=e.onChange,a=Math.round((r-t)/(i-t)*100);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(_t,{children:"-"}),Object(R.jsxs)(wt,{children:[Object(R.jsx)(kt,{}),Object(R.jsx)(yt,{active:n,percentage:a}),Object(R.jsx)(Ct,{type:"range",min:t,max:i,defaultValue:r,step:o,onChange:c,active:n,disabled:!n})]}),Object(R.jsx)(_t,{children:"+"})]})},St=E.b.div(Ke||(Ke=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  height: 20px;\n"]))),Rt=function(e){var n=e.active,t=e.title,i=e.minValue,r=e.maxValue,o=e.defaultValue,c=e.step,a=e.onChange;return Object(R.jsxs)(st,{children:[Object(R.jsx)(ut,{children:t}),Object(R.jsxs)(St,{children:[Object(R.jsx)(mt,{active:n,children:o}),Object(R.jsx)(Et,{active:n,minValue:i,maxValue:r,defaultValue:o,step:c,onChange:function(e){n&&a(e)}})]})]})},Ht=function(e,n){var t=e.control,i=e.bookStyle,r=e.bookFlow,o=e.onToggle,c=e.emitEvent,a=e.onBookStyleChange,l=Object(j.useState)(i.fontFamily),s=Object(p.a)(l,2),u=s[0],d=s[1],b=Object(j.useState)(i.fontSize),f=Object(p.a)(b,2),g=f[0],h=f[1],x=Object(j.useState)(i.lineHeight),O=Object(p.a)(x,2),v=O[0],m=O[1],w=Object(j.useState)(i.marginHorizontal),k=Object(p.a)(w,2),y=k[0],C=k[1],_=Object(j.useState)(i.marginVertical),E=Object(p.a)(_,2),S=E[0],H=E[1],z=function(e,n){if(n&&n.target)switch(e){case"FontSize":h(n.target.value);break;case"LineHeight":m(n.target.value);break;case"MarginHorizontal":C(n.target.value);break;case"MarginVertical":H(n.target.value)}};return Object(j.useEffect)((function(){var e=window.setTimeout((function(){a({fontFamily:u,fontSize:g,lineHeight:v,marginHorizontal:y,marginVertical:S})}),250);return function(){return window.clearTimeout(e)}}),[u,g,v,y,S]),Object(j.useEffect)((function(){return c()}),[i,c]),Object(R.jsx)(R.Fragment,{children:t.display&&Object(R.jsx)(Qn,{title:"Setting",show:t.open,onClose:o,ref:n,children:Object(R.jsxs)(lt,{children:[Object(R.jsx)(vt,{title:"Font",defaultValue:u,valueList:["Origin","Roboto"],onSelect:function(e){return d(e)}}),Object(R.jsx)(Rt,{active:!0,title:"Size",minValue:8,maxValue:36,defaultValue:g,step:1,onChange:function(e){return z("FontSize",e)}}),Object(R.jsx)(Rt,{active:!0,title:"Line height",minValue:1,maxValue:3,defaultValue:v,step:.1,onChange:function(e){return z("LineHeight",e)}}),Object(R.jsx)(Rt,{active:!0,title:"Horizontal margin",minValue:0,maxValue:100,defaultValue:y,step:1,onChange:function(e){return z("MarginHorizontal",e)}}),Object(R.jsx)(Rt,{active:"paginated"===r,title:"Vertical margin",minValue:0,maxValue:100,defaultValue:S,step:1,onChange:function(e){return z("MarginVertical",e)}})]})})})},zt=x.a.forwardRef(Ht),Bt=E.b.button(Je||(Je=Object(_.a)(["\n  padding: 16px 24px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  background-color: ",";\n  transition: .1s ",";\n  cursor: pointer;\n  outline: none;\n  text-align: left;\n  border-bottom: 1px solid ",";\n  \n  &:nth-child(2) {\n    border-top: 1px solid ",";\n  }\n\n  & > div {\n    color: inherit;\n    flex-grow: 1;\n  }\n\n  &:hover > *, &:focus > * {\n    color: ",";\n  }\n"])),Y.gray0,ee,Y.gray1,Y.gray1,Y.blue3),Vt=E.b.div(Qe||(Qe=Object(_.a)(["\n  font-size: 14px;\n  font-weight: 600;\n  color: inherit;\n"]))),Tt=E.b.div(Ze||(Ze=Object(_.a)(["\n  position: relative;\n  font-size: 14px;\n  margin-top: 16px;\n  padding: 8px;\n  box-sizing: border-box;\n\n  &::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    background-color: ",";\n    opacity: .3;\n    border-radius: 8px;\n    mix-blend-mode: multiply;\n  }\n"])),(function(e){return e.color})),It=E.b.span($e||($e=Object(_.a)(["\n  min-width: 32px;\n  margin-right: 16px;\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n"])),Y.gray4),Lt=function(e){var n=e.num;return Object(R.jsxs)(It,{children:[n,"p"]})},Mt=t(21),Nt={coverURL:"",title:"",description:"",published_date:"",modified_date:"",author:"",publisher:"",language:""},Wt={book:Nt,currentLocation:{chapterName:"-",currentPage:0,totalPage:0,startCfi:"",endCfi:"",base:""},toc:[],highlights:[],colorList:[{name:"Red",code:Y.red4},{name:"Orange",code:Y.orange4},{name:"Yellow",code:Y.yellow4},{name:"Green",code:Y.green4},{name:"Blue",code:Y.blue4},{name:"Purple",code:Y.purple4}]},Pt=Object(Mt.c)({name:"book",initialState:Wt,reducers:{updateBook:function(e,n){e.book=n.payload},updateCurrentPage:function(e,n){e.currentLocation=n.payload},clearBook:function(e){e.book=Nt},updateToc:function(e,n){e.toc=n.payload},clearToc:function(e){e.toc=[]},pushHighlight:function(e,n){e.highlights.filter((function(e){return e.key===n.payload.key})).length>0||e.highlights.push(n.payload)},updateHighlight:function(e,n){var t=n.payload.key,i=e.highlights.map((function(e){return e.key})).indexOf(t);e.highlights.splice(i,1,n.payload)},popHighlight:function(e,n){var t=e.highlights.map((function(e){return e.key})).indexOf(n.payload);e.highlights.splice(t,1)}}}),Ft=Pt.actions,Dt=Ft.updateBook,At=(Ft.clearBook,Ft.updateCurrentPage),Xt=Ft.updateToc,Gt=(Ft.clearToc,Ft.pushHighlight),Yt=Ft.updateHighlight,qt=Ft.popHighlight,Ut=Pt.reducer,Kt=function(e){var n=e.highlight,t=e.onClick,i=e.emitEvent,r=e.viewerRef,o=Object(O.b)();return Object(R.jsxs)(Bt,{onClick:function(){if(r.current){var e=(new Date).toISOString();o(Yt(Object(k.a)(Object(k.a)({},n),{},{accessTime:e})));var c=F(n.cfiRange);if(c){var a=c.startCfi;r.current.setLocation(a),i();var l=r.current.querySelector("svg");if(l){var s=l.querySelector('g[data-epubcfi="'.concat(n.cfiRange,'"]'));s&&t(s.childNodes[0])}}}},children:[Object(R.jsx)(Lt,{num:n.pageNum}),Object(R.jsxs)("div",{children:[Object(R.jsx)(Vt,{children:n.chpaterName}),Object(R.jsx)(Tt,{color:n.color,children:n.content})]})]})},Jt=E.b.div(en||(en=Object(_.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 24px 0;\n"]))),Qt=E.b.div(nn||(nn=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0 24px 24px 24px;\n"]))),Zt=E.b.button(tn||(tn=Object(_.a)(["\n  height: 20px;\n  line-height: 20px;\n  font-size: 14px;\n  cursor: pointer;\n  text-align: center;\n  margin-left: 16px;\n  color: ",";\n  transition: .2s ",";\n  \n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.isSelected?Y.blue3:Y.gray4}),ee,Y.blue3),$t=function(e){var n=e.text,t=e.isSelected,i=e.onClick;return Object(R.jsx)(Zt,{isSelected:t,onClick:i,children:n})},ei=E.b.div(rn||(rn=Object(_.a)(["\n  flex-grow: 1;\n  height: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  font-size: 14px;\n"])),Y.blue2),ni=function(e){var n=e.text;return Object(R.jsx)(ei,{children:n})},ti=function(e,n){var t=e.control,i=e.onToggle,r=e.onClickHighlight,o=e.emitEvent,c=e.viewerRef,a=Object(O.c)((function(e){return e.book.highlights})),l=Object(j.useState)("CART"),s=Object(p.a)(l,2),u=s[0],d=s[1],b=Object(j.useState)([]),f=Object(p.a)(b,2),g=f[0],h=f[1],x=function(e){return d(e)};return Object(j.useEffect)((function(){var e="LOOK"===u?"accessTime":"createTime",n=a.slice().sort((function(n,t){return new Date(t[e]).getTime()-new Date(n[e]).getTime()})).map((function(e){return Object(R.jsx)(Kt,{highlight:e,onClick:r,emitEvent:o,viewerRef:c},e.key)}));h(n)}),[c,u,a,r,o,h]),Object(R.jsx)(R.Fragment,{children:t.display&&Object(R.jsx)(Qn,{title:"Highlight",show:t.open,onClose:i,ref:n,children:Object(R.jsxs)(Jt,{children:[Object(R.jsxs)(Qt,{children:[Object(R.jsx)($t,{text:"viewed",isSelected:"LOOK"===u,onClick:function(){return x("LOOK")}}),Object(R.jsx)($t,{text:"created",isSelected:"CART"===u,onClick:function(){return x("CART")}})]}),g.length>0?g:Object(R.jsx)(ni,{text:"Empty highlights!"})]})})})},ii=x.a.forwardRef(ti),ri=160,oi={MIN_VIEWER_WIDTH:600,MIN_VIEWER_HEIGHT:300,VIEWER_HEADER_HEIGHT:54,VIEWER_FOOTER_HEIGHT:60,VIEWER_SIDEMENU_WIDTH:0},ci=E.b.div(on||(on=Object(_.a)(["\n  position: absolute;\n  left: ",";\n  top: ",";\n  width: ",";\n  height: ",";\n  box-sizing: border-box;\n  padding: ",";\n  border-radius: 8px;\n  background-color: rgba(0,0,0,.8);\n  box-shadow: ",";\n  z-index: ",";\n\n  & > div:first-child {\n    height: 100%;\n    overflow-y: auto;\n    ",";\n  }\n\n  &::before {\n    display: ",';\n    content: "";\n    position: absolute;\n    left: 80px;\n    ',"\n    transform: translateX(-8px);\n    border: 8px solid rgba(0,0,0,0);\n    ","\n    z-index: 1;\n  }\n"])),(function(e){var n=e.x;return window.innerWidth<n+ri?"".concat(window.innerWidth-ri,"px"):"".concat(n,"px")}),(function(e){var n=e.y;return window.innerHeight<n+40?"".concat(window.innerHeight-40,"px"):"".concat(n,"px")}),(function(e){return e.width+"px"}),(function(e){return e.height+"px"}),(function(e){return e.width>0?"4px":""}),ne,U.menu,te(0),(function(e){return e.width>0?"black":"none"}),(function(e){return e.isReverse?Object(E.a)(cn||(cn=Object(_.a)(["bottom: -16px;"]))):Object(E.a)(an||(an=Object(_.a)(["top: -16px;"])))}),(function(e){return e.isReverse?Object(E.a)(ln||(ln=Object(_.a)(["border-top: 8px solid rgba(0,0,0,.8);"]))):Object(E.a)(sn||(sn=Object(_.a)(["border-bottom: 8px solid rgba(0,0,0,.8);"])))})),ai=E.b.button(un||(un=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 32px;\n  border-radius: 6px;\n  cursor: pointer;\n  background-color: rgba(0,0,0,0);\n  transition: .1s ",";\n  outline: none;\n\n  &:hover, &:focus {\n    background-color: ",";\n\n    & > span {\n      color: #fff;\n    }\n  }\n"])),ee,Y.blue3),li=E.b.div(dn||(dn=Object(_.a)(["\n  width: 16px;\n  height: 16px;\n  border-radius: 16px;\n  background-color: #fff;\n  margin-right: 16px;\n"]))),si=E.b.div(bn||(bn=Object(_.a)(["\n  width: 16px;\n  height: 16px;\n  border-radius: 16px;\n  background-color: ",";\n  opacity: .4;\n"])),(function(e){return e.color})),ui=E.b.span(fn||(fn=Object(_.a)(["\n  width: 48px;\n  font-size: 14px;\n  color: #ddd;\n  line-height: 20px;\n"]))),di=function(e){var n=e.name,t=e.color,i=e.onClick;return Object(R.jsxs)(ai,{onClick:function(e){i(),e.target.blur()},children:[Object(R.jsx)(li,{children:Object(R.jsx)(si,{color:t})}),Object(R.jsx)(ui,{children:n})]})},bi=E.b.button(gn||(gn=Object(_.a)(["\n  width: 100%;\n  height: 32px;\n  line-height: 32px;\n  text-align: center;\n  font-size: 14px;\n  color: #ccc;\n  transition: .1s ",";\n  background-color: rgba(0,0,0,0);\n  border-radius: 6px;\n  cursor: pointer;\n  outline: none;\n\n  &:focus, &:hover {\n    color: #fff;\n    background-color: ",";\n  }\n"])),ee,Y.red3),fi=function(e){var n=e.text,t=e.onClick;return Object(R.jsx)(bi,{onClick:t,children:n})},gi=function(e){var n=e.active,t=e.viewerRef,i=e.selection,r=e.onAddHighlight,o=e.onRemoveHighlight,c=e.onUpdateHighlight,a=e.onContextmMenuRemove,l=Object(O.c)((function(e){return e.book.highlights})),s=Object(O.c)((function(e){return e.book.colorList})),u=Object(j.useRef)(null),d=Object(j.useState)(null),b=Object(p.a)(d,2),f=b[0],g=b[1],h=Object(j.useState)(!1),x=Object(p.a)(h,2),v=x[0],m=x[1],w=Object(j.useState)(!1),k=Object(p.a)(w,2),y=k[0],C=k[1],_=Object(j.useState)(!1),E=Object(p.a)(_,2),S=E[0],H=E[1],z=Object(j.useState)(0),B=Object(p.a)(z,2),V=B[0],T=B[1],I=Object(j.useState)(i.y),L=Object(p.a)(I,2),N=L[0],W=L[1],P=s.map((function(e){return Object(R.jsx)(di,{name:e.name,color:e.code,onClick:i.update?function(){return c(f,e.code)}:function(){return r(e.code)}},e.code)})),F=Object(j.useCallback)((function(){f&&(o(f.key,f.cfiRange),a(),C(!1))}),[f,o,a]),A=Object(j.useCallback)((function(e){var n=e.path;u.current&&(Object(M.a)(n).includes(u.current)||a())}),[u,a]),X=Object(j.useCallback)((function(e){var n=e.key;n&&"ArrowLeft"===n&&a(),n&&"ArrowRight"===n&&a()}),[a]);return Object(j.useEffect)((function(){n||C(!1);var e=D(i.cfiRange);if(e){var t=l.filter((function(n){return n.key===e+i.cfiRange}));if(t.length){var r=t[0];g(r),i.update?C(!0):C(!1)}}}),[n,l,i.cfiRange,i.update]),Object(j.useEffect)((function(){if(t.current){var e=document.querySelector("iframe"),i=e&&e.contentWindow&&e.contentWindow.document,r=t.current.querySelector("div");return n?(m(!0),r&&r.addEventListener("scroll",a),i&&i.addEventListener("mousedown",A),i&&i.addEventListener("keyup",X),document.addEventListener("mousedown",A),document.addEventListener("keyup",X)):(m(!1),r&&r.removeEventListener("scroll",a),i&&i.removeEventListener("mousedown",A),i&&i.removeEventListener("keyup",X),document.removeEventListener("mousedown",A),document.removeEventListener("keyup",X)),function(){i&&i.removeEventListener("mousedown",a),i&&i.removeEventListener("keyup",X),document.removeEventListener("keyup",X)}}}),[t,n,A,a,X]),Object(j.useEffect)((function(){var e=P.length;y&&(e+=1);var n=32*e+8,t=i.y,r=window.innerHeight;i.y+n>r?((t=i.y-i.height-n)<0?(T(n+t-8),t=8):T(n),H(!0)):(T(n),H(!1)),W(t)}),[i.y,i.height,P,y,T]),Object(R.jsx)(R.Fragment,{children:v&&Object(R.jsx)(ci,{x:i.x,y:N,width:ri,height:V,isReverse:S,ref:u,children:Object(R.jsxs)("div",{children:[P,y&&Object(R.jsx)(fi,{text:"Remove",onClick:F})]})})})},hi=function(e){return"\n\t@media (max-width: ".concat(e,"px)\n")},pi=1440,ji=1200,xi=702,Oi=350,vi={xlarge:hi(1600),large:hi(pi),medium:hi(ji),small:hi(xi),xsmall:hi(Oi),custom:hi},mi={fadeIn:Object(E.c)(hn||(hn=Object(_.a)(["\n\t0% { opacity: 0; }\n\t100% { opacity: 1;}\n"]))),fadeOut:Object(E.c)(pn||(pn=Object(_.a)(["\n\t0% { opacity: 1; }\n\t100% { opacity: 0; }\n"]))),fadeInTop:Object(E.c)(jn||(jn=Object(_.a)(["\n\t0% { opacity: 0; transform: translateY(-40px); }\n\t100% { opacity: 1; transform: translateY(0); }\n"]))),fadeOutTop:Object(E.c)(xn||(xn=Object(_.a)(["\n\t0% { opacity: 1; transform: translateY(0); }\n\t100% { opacity: 0; transform: translateY(-40px); }\n"]))),fadeInBottom:Object(E.c)(On||(On=Object(_.a)(["\n\t0% { opacity: 0; transform: translateY(40px); }\n\t100% { opacity: 1; transform: translateY(0); }\n"]))),fadeOutBottom:Object(E.c)(vn||(vn=Object(_.a)(["\n\t0% { opacity: 1; transform: translateY(0); }\n\t100% { opacity: 0; transform: translateY(40px); }\n"]))),fadeInLeft:Object(E.c)(mn||(mn=Object(_.a)(["\n\t0% { opacity: 0; transform: translateX(-40px); }\n\t100% { opacity: 1; transform: translateX(0); }\n"]))),fadeOutLeft:Object(E.c)(wn||(wn=Object(_.a)(["\n\t0% { opacity: 1; transform: translateX(0); }\n\t100% { opacity: 0; transform: translateX(-40px); }\n"]))),fadeInRight:Object(E.c)(kn||(kn=Object(_.a)(["\n\t0% { opacity: 0; transform: translateX(40px); }\n\t100% { opacity: 1; transform: translateX(0); }\n"]))),fadeOutRight:Object(E.c)(yn||(yn=Object(_.a)(["\n\t0% { opacity: 1; transform: translateX(0); }\n\t100% { opacity: 0; transform: translateX(40px); }\n"]))),spin:Object(E.c)(Cn||(Cn=Object(_.a)(["\n\tfrom { transform: rotate(0deg); }\n\tto { transform: rotate(360deg); }\n"])))},wi=E.b.div(_n||(_n=Object(_.a)(["\n\tposition: relative;\n\twidth: 320px;\n\theight: auto;\n\tmax-height: 800px;\n\tbackground-color: ",";\n\tbox-shadow: ",";\n\tborder-radius: 4px;\n\tanimation: "," .3s cubic-bezier(0.25,0.1,0.25,1),\n\t\t\t\t\t\t "," .5s cubic-bezier(0.25,0.1,0.25,1) 3.6s;\n\tcursor: pointer;\n\ttransition: .2s ",";\n\t",";\n\n\t&:active {\n\t\ttransform: scale(.97, .97);\n\t}\n\n\t"," {\n\t\tborder-radius: 0px;\n\t\twidth: 100%;\n\t\tmin-height: 1.8rem;\n\t}\n"])),(function(e){var n=e.type;return"SUCCESS"===n?Y.green4:"WARNING"===n?Y.orange4:"ERROR"===n?Y.red3:"INFO"===n?Y.blue4:Y.gray4}),ne,mi.fadeInBottom,mi.fadeOutBottom,ee,$,vi.small),ki=E.b.div(En||(En=Object(_.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: auto;\n\tmin-height: 2rem;\n\tbox-sizing: border-box;\n\tpadding: 12px 20px;\n\n\t"," {\n\t\tmin-height: 1.6rem;\n\t\tline-height: 1.6rem;\n\t}\n"])),vi.small),yi=E.b.div(Sn||(Sn=Object(_.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\tcolor: white;\n\tfont-size: 14px;\n\twhite-space: pre-wrap;\n\tword-break: keep-all;\n\tvertical-align: top;\n"]))),Ci=function(e){var n=e.onClick,t=e.text,i=e.type;return Object(R.jsx)(wi,{onClick:n,type:i,children:Object(R.jsx)(ki,{children:Object(R.jsx)(yi,{children:t})})})},_i=[],Ei=Object(Mt.b)("snackbar/newSnackbar",function(){var e=Object(w.a)(m.a.mark((function e(n,t){var i,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.text,r=n.type,o=t.dispatch,0!==_i.length&&(c=_i.shift(),clearTimeout(c)),o(Si.actions.deleteSnackbar()),e.next=6,setTimeout((function(){o(Si.actions.appendSnackbar({text:i,type:r||"INFO"}));var e=window.setTimeout((function(){o(Si.actions.deleteSnackbar())}),4e3);_i.push(e)}),50);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Si=Object(Mt.c)({name:"snackbar",initialState:{text:"",type:"INFO"},reducers:{appendSnackbar:function(e,n){e.text=n.payload.text,e.type=n.payload.type},deleteSnackbar:function(e){e.text="",e.type="INFO"}}}),Ri=Si.actions,Hi=(Ri.appendSnackbar,Ri.deleteSnackbar),zi=Si.reducer,Bi=E.b.div(Rn||(Rn=Object(_.a)(["\n\tposition: fixed;\n\ttop: 40px;\n\tright: 30px;\n\twidth: 320px;\n\theight: auto;\n\tz-index: ",";\n\n\t"," {\n\t\twidth: 100%;\n\t\ttop: initial;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tmargin: auto;\n\t}\n"])),U.snackbar,vi.small),Vi=function(){var e=Object(O.b)(),n=Object(O.c)((function(e){return e.snackbar}));return Object(R.jsx)(Bi,{children:""!==n.text&&Object(R.jsx)(Ci,{onClick:function(n){n&&(n.preventDefault(),n.stopPropagation()),e(Hi())},text:n.text,type:n.type})})},Ti=E.b.div(Hn||(Hn=Object(_.a)(["\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n  ",";\n"])),te(0)),Ii=t(16),Li=Object(Ii.c)({book:Ut,snackbar:zi}),Mi=Object(Mt.a)({reducer:Li});var Ni=function(e,n){var t=Object(j.useState)(!0),i=Object(p.a)(t,2),r=i[0],o=i[1],c=Object(j.useState)({display:!1,open:!1}),a=Object(p.a)(c,2),l=a[0],s=a[1],u=Object(j.useCallback)((function(){var e=null;window.clearTimeout(e),l.display?(s({display:!0,open:!1}),e=window.setTimeout((function(){return s({display:!1,open:!1})}),n-50)):(s({display:!0,open:!1}),e=window.setTimeout((function(){return s({display:!0,open:!0})}),0))}),[l.display,n]),d=Object(j.useCallback)((function(n){e&&e.current&&(n.path.includes(e.current)||u())}),[e,u]),b=Object(j.useCallback)((function(){window.setTimeout((function(){return o(!0)}),300)}),[o]);return Object(j.useEffect)((function(){if(r||l.display){var e=document.querySelector("iframe");return l.display?(document.addEventListener("click",d),e&&e.contentWindow&&e.contentWindow.document.addEventListener("click",d)):(document.removeEventListener("click",d),e&&e.contentWindow&&e.contentWindow.document.removeEventListener("click",d)),o(!1),function(){document.removeEventListener("click",d),e&&e.contentWindow&&e.contentWindow.document.removeEventListener("click",d)}}}),[l.display,d,r]),[l,u,b]},Wi=function(e,n,t,i){var r=Object(O.b)(),o=Object(O.c)((function(e){return e.book.currentLocation})),c=Object(O.c)((function(e){return e.book.highlights})),a=Object(j.useState)({update:!1,x:0,y:0,height:0,cfiRange:"",content:""}),l=Object(p.a)(a,2),s=l[0],u=l[1],d=Object(j.useCallback)((function(n){if(!e.current)return!1;var o=e.current.querySelector("iframe");if(!o)return!1;var a=o.contentWindow;if(!a)return!1;if(c.filter((function(e){return function(e,n){var t=F(e),i=F(n);if(!t||!i)return null;var r=t.startCfi,o=t.endCfi,c=i.startCfi,a=i.endCfi;return P(c,r)<=0&&P(r,a)<=0||P(c,o)<=0&&P(o,a)<=0||P(r,c)<=0&&P(a,o)<=0}(e.cfiRange,n)})).length>0)return r(Ei({text:"There are already registered highlights in your selection.",type:"WARNING"})),a.getSelection().removeAllRanges(),!1;var l=function(e,n,t,i,r,o,c){var a=window,l=a.innerWidth,s=a.innerHeight,u=e.offsetWidth,d=e.querySelector("div").scrollTop,b=e.querySelector("iframe"),f=b&&b.contentWindow&&b.contentWindow.getSelection();if(!f||0===f.rangeCount)return null;var g=f.getRangeAt(0).getBoundingClientRect(),h=g.x,p=g.y,j=g.height,x=g.width;return{x:~~(h%u+~~((l-i)/100*n.marginHorizontal/2)+(x/2-c/2)),y:~~(p+j+o+("scrolled-doc"===t?0:~~((s-o-r)/100*n.marginVertical/2))-d),height:j,width:x}}(e.current,t,i,oi.MIN_VIEWER_WIDTH,oi.MIN_VIEWER_HEIGHT,oi.VIEWER_HEADER_HEIGHT,ri);if(!l)return!1;var s=l.x,d=l.y,b=l.height,f=a.getSelection().toString().trim();return 0!==f.length&&(u({update:!1,x:s,y:d,height:b,cfiRange:n,content:f}),!0)}),[r,e,c,i,t,u]),b=Object(j.useCallback)((function(e){var n=e.parentElement;if(n){var t=n.dataset.epubcfi;if(t){var i=n.getBoundingClientRect(),r=i.x,o=i.y,c=i.width,a=i.height;u({update:!0,x:r+c/2-80,y:o+a,height:a,cfiRange:t,content:""})}}}),[u]),f=Object(j.useCallback)((function(e){var n=D(s.cfiRange);if(n){var t={key:n+s.cfiRange,accessTime:(new Date).toISOString(),createTime:(new Date).toISOString(),color:e,paragraphCfi:n,cfiRange:s.cfiRange,chpaterName:o.chapterName,pageNum:o.currentPage,content:s.content};r(Gt(t)),u(Object(k.a)(Object(k.a)({},s),{},{update:!0}))}}),[r,s,o]),g=Object(j.useCallback)((function(e,n){e&&r(Yt(Object(k.a)(Object(k.a)({},e),{},{color:n})))}),[r]),h=Object(j.useCallback)((function(n,t){e.current&&n&&(r(qt(n)),r(Ei({text:"The highlight removed successful!",type:"INFO"})),e.current.offHighlight(t))}),[r,e]);return Object(j.useEffect)((function(){if(e.current){var t=e.current.querySelector("iframe");if(t){var i=t.contentWindow;i&&c.forEach((function(t){var r=F(t.cfiRange);if(r){var c=r.startCfi;if(P(o.startCfi,c)<1&&P(o.endCfi,c)>-1){if(!function(e){var n=e.slice(8,-1).replace(/\[.*?\]/gi,"").split("!");if(n.length<1||""===n[1])return null;var t=n[1].split("/").slice(2).map((function(e){return Number(e)})),i=document.querySelector("iframe");if(!i)return null;var r=i.contentWindow&&i.contentWindow.document.body;if(!r)return null;var o,c=r,a=Object(N.a)(t);try{for(a.s();!(o=a.n()).done;){var l=o.value,s=c&&c.childNodes;if(!(c=Object(M.a)(s).filter((function(e){return!e.dataset||!e.dataset.bookmark||!e.dataset.highlight}))[l-1])){c=null;break}}}catch(u){a.e(u)}finally{a.f()}return c}(t.paragraphCfi))return;e.current.onHighlight(t.cfiRange,(function(e){b(e.target),n(!0)}),t.color),i.getSelection().removeAllRanges()}}}))}}}),[r,e,o,c,h,b,n]),{selection:s,onSelection:d,onClickHighlight:b,onAddHighlight:f,onRemoveHighlight:h,onUpdateHighlight:g}},Pi=(t(110),function(e){var n=e.url,t=e.loadingView,i=Object(O.b)(),r=Object(O.c)((function(e){return e.book.book})),o=Object(O.c)((function(e){return e.book.currentLocation})),c=Object(j.useRef)(null),a=Object(j.useRef)(null),l=Object(j.useRef)(null),s=Object(j.useRef)(null),u=Object(j.useState)(!1),d=Object(p.a)(u,2),b=d[0],f=d[1],g=Object(j.useState)({fontFamily:"Origin",fontSize:18,lineHeight:1.4,marginHorizontal:15,marginVertical:5}),h=Object(p.a)(g,2),x=h[0],v=h[1],m=Object(j.useState)({flow:"paginated",resizeOnOrientationChange:!0,spread:"auto"}),w=Object(p.a)(m,2),k=w[0],y=w[1],C=Ni(a,300),_=Object(p.a)(C,2),E=_[0],S=_[1],H=Ni(l,300),z=Object(p.a)(H,3),B=z[0],V=z[1],T=z[2],I=Ni(s,300),M=Object(p.a)(I,2),N=M[0],W=M[1],P=Wi(c,f,x,k.flow),F=P.selection,D=P.onSelection,A=P.onClickHighlight,X=P.onAddHighlight,Y=P.onRemoveHighlight,q=P.onUpdateHighlight;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(Ti,{children:[Object(R.jsx)(Ln,{title:r.title,bookOption:k,onNavToggle:S,onOptionToggle:V,onLearningToggle:W,onBookOptionChange:function(e){return y(e)}}),Object(R.jsx)(G,{url:n,viewerLayout:oi,viewerStyle:x,viewerOption:k,onBookInfoChange:function(e){return i(Dt(e))},onPageChange:function(e){return i(At(e))},onTocChange:function(e){return i(Xt(e))},onSelection:function(e){var n=D(e);f(n)},loadingView:t||Object(R.jsx)(L,{}),ref:c}),Object(R.jsx)(Xn,{title:o.chapterName,nowPage:o.currentPage,totalPage:o.totalPage,onPageMove:function(e){var n=c.current;n&&n.prevPage&&n.nextPage&&("PREV"===e&&n.prevPage(),"NEXT"===e&&n.nextPage())}})]}),Object(R.jsx)(at,{control:E,onToggle:S,onLocation:function(e){c.current&&c.current.setLocation(e)},ref:a}),Object(R.jsx)(zt,{control:B,bookStyle:x,bookFlow:k.flow,onToggle:V,emitEvent:T,onBookStyleChange:function(e){return v(e)},ref:l}),Object(R.jsx)(ii,{control:N,onToggle:W,onClickHighlight:A,emitEvent:T,viewerRef:c,ref:s}),Object(R.jsx)(gi,{active:b,viewerRef:c,selection:F,onAddHighlight:X,onRemoveHighlight:Y,onUpdateHighlight:q,onContextmMenuRemove:function(){return f(!1)}}),Object(R.jsx)(Vi,{})]})}),Fi=function(e){var n=e.url,t=e.loadingView;return Object(R.jsx)(O.a,{store:Mi,children:Object(R.jsx)(Pi,{url:n,loadingView:t})})};h.a.render(Object(R.jsx)(Fi,{url:"files/Alices Adventures in Wonderland.epub"}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.36cd7a44.chunk.js.map